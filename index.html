<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Razorpay Payment - INR & USD</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 500px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        select, button {
            padding: 12px;
            margin: 10px;
            font-size: 16px;
            width: 80%;
        }
        button {
            background-color: #3399cc;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #287bb5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Choose Currency & Pay</h1>
        
        <!-- करेंसी चुनने का ड्रॉपडाउन -->
        <select id="currencySelect">
            <option value="INR">Indian Rupee (INR)</option>
            <option value="USD">US Dollar (USD)</option>
        </select>

        <!-- अमाउंट दिखाने के लिए (ऑटो अपडेट होगा) -->
        <p id="amountDisplay">Amount: ₹500</p>

        <button id="rzp-button">Pay Now</button>
    </div>

    <script>
        // Razorpay कीज (अपनी टेस्ट कीज डालें)
        const RAZORPAY_KEY = "rzp_test_ReTpKliP2DmK7M"; // <-- यहाँ अपनी key डालें

        // डिफ़ॉल्ट अमाउंट (INR में)
        let baseAmountINR = 10; // ₹10
        let baseAmountUSD = 6;   // $6 (लगभग ₹500 के बराबर)

        // करेंसी और अमाउंट अपडेट करने का फंक्शन
        function updateAmount() {
            const currency = document.getElementById("currencySelect").value;
            const amountDisplay = document.getElementById("amountDisplay");

            if (currency === "INR") {
                amountDisplay.innerText = `Amount: ₹${baseAmountINR}`;
            } else {
                amountDisplay.innerText = `Amount: $${baseAmountUSD}`;
            }
        }

        // ड्रॉपडाउन चेंज होने पर अमाउंट अपडेट करो
        document.getElementById("currencySelect").addEventListener("change", updateAmount);

        // पेमेंट बटन क्लिक
        document.getElementById("rzp-button").onclick = function(e) {
            const currency = document.getElementById("currencySelect").value;
            let amountInSubunits;

            if (currency === "INR") {
                amountInSubunits = baseAmountINR * 100; // paise में
            } else {
                amountInSubunits = baseAmountUSD * 100; // cents में
            }

            var options = {
                "key": RAZORPAY_KEY,
                "amount": amountInSubunits,
                "currency": currency,
                "name": "Your Business Name",
                "description": `Payment in ${currency}`,
                "image": "https://traidev.com/img/web-desgin-development.png", // अपना लोगो
                "handler": function (response) {
                    alert(`Payment Successful! ID: ${response.razorpay_payment_id}`);
                    console.log(response);
                    // यहाँ बैकएंड को भेजें वेरिफिकेशन के लिए
                },
                "prefill": {
                    "name": "Customer Name",
                    "email": "customer@example.com",
                    "contact": "+919876543210"
                },
                "theme": {
                    "color": "#3399cc"
                },
                "method": {
                    "card": true,
                    "netbanking": currency === "INR", // USD में नेटबैंकिंग नहीं
                    "wallet": currency === "INR",
                    "upi": currency === "INR"
                },
                "modal": {
                    "ondismiss": function() {
                        alert("Payment cancelled");
                    }
                }
            };

            var rzp = new Razorpay(options);
            rzp.open();
            e.preventDefault();
        };

        // पेज लोड होने पर डिफ़ॉल्ट अमाउंट दिखाओ
        updateAmount();
    </script>
</body>
</html>